<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Reveal Integration Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
/*
This document has been created with Marked.app <http://markedapp.com>, Copyright 2013 Brett Terpstra
Content is property of the document author
Please leave this notice in place, along with any additional credits below.
---------------------------------------------------------------
Title: GitHub
Author: Brett Terpstra
Description: Github README style. Includes theme for Pygmentized code blocks.
*/
html,body{color:black}*:not('#mkdbuttons'){margin:0;padding:0}#wrapper{font:13.34px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:subpixel-antialiased;line-height:1.4;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}p{margin:1em 0}a{color:#4183c4;text-decoration:none}#wrapper{background-color:#fff;padding:30px;margin:15px;font-size:14px;line-height:1.6}#wrapper>*:first-child{margin-top:0!important}#wrapper>*:last-child{margin-bottom:0!important}@media screen{#wrapper{box-shadow:0 0 0 1px #cacaca,0 0 0 4px #eee}}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:bold;-webkit-font-smoothing:subpixel-antialiased;cursor:text}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px;color:#333}h4{font-size:16px;color:#333}h5{font-size:14px;color:#333}h6{color:#777;font-size:14px}p,blockquote,table,pre{margin:15px 0}ul{padding-left:30px}ol{padding-left:30px}ol li ul:first-of-type{margin-top:0}hr{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:4px;padding:0}#wrapper>h2:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child+h2{margin-top:0;padding-top:0}#wrapper>h3:first-child,#wrapper>h4:first-child,#wrapper>h5:first-child,#wrapper>h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1+p,h2+p,h3+p,h4+p,h5+p,h6+p,ul li>:first-child,ol li>:first-child{margin-top:0}dl{padding:0}dl dt{font-size:14px;font-weight:bold;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt>:first-child{margin-top:0}dl dt>:last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd>:first-child{margin-top:0}dl dd>:last-child{margin-bottom:0}blockquote{border-left:4px solid #DDD;padding:0 15px;color:#777}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{border-collapse:collapse;border-spacing:0;font-size:100%;font:inherit}table th{font-weight:bold;border:1px solid #ccc;padding:6px 13px}table td{border:1px solid #ccc;padding:6px 13px}table tr{border-top:1px solid #ccc;background-color:#fff}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px;font-family:Consolas,'Liberation Mono',Courier,monospace;font-size:12px;color:#333}pre>code{margin:0;padding:0;white-space:pre;border:0;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:0}.poetry pre{font-family:Georgia,Garamond,serif!important;font-style:italic;font-size:110%!important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif!important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,pre,blockquote,table,figure{page-break-inside:avoid}#wrapper{background:#fff;border:0}code{background-color:#fff;color:#333!important;padding:0 .2em;border:1px solid #dedede}pre{background:#fff}pre code{background-color:white!important;overflow:visible}}@media screen{body.inverted{color:#eee!important;border-color:#555;box-shadow:none}.inverted #wrapper,.inverted hr .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee!important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted h2{border-color:#555}.inverted hr{border-color:#777;border-width:1px!important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7)!important;color:#eee!important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted #wrapper{background:#252a2a}.inverted a{color:#acd1d5}}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne,.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:#008080}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#eaf2f5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}
</style>

</head>
<body class="normal">
  <div id="wrapper">
      <h1 id="revealintegrationguide">Reveal Integration Guide</h1>

<h2 id="tldr">TL;DR</h2>

<blockquote>
<p><strong>WARNING</strong>: Don&#8217;t ship or link the Reveal library with your release builds. Typically this means you should only link the Reveal library in a target&#8217;s Debug build configuration.</p>
</blockquote>

<ul>
<li>Statically link your iOS app with <em>Reveal.framework</em>. Select <strong>Help</strong> / <strong>Show Reveal Library in Finder</strong> to show where it is.</li>
<li>Add -ObjC to Other Linker Flags in Build Settings.</li>
<li>Xcode 4 users: link with <em>CFNetwork.framework</em> and <em>QuartzCore.framework</em>. You do not need to explicitly link these frameworks in Xcode 5.</li>
<li>Start your iOS application. Make sure it is running on the same network as the Reveal Mac app. Select it from the app selector pull-down in Reveal.</li>
</ul>

<p>If you have any problems integrating Reveal with your application check the detailed instructions below. If you&#8217;re still having problems or have questions, head over to our <a href="http://support.revealapp.com">support site</a>.</p>

<h2 id="tableofcontents">Table of Contents</h2>

<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#staticlibraryframeworkintegration">Static Library Framework Integration</a></li>
<li><a href="#dynamiclibraryintegration">Dynamic Library Integration</a></li>
<li><a href="#cocoapodsintegration">Cocoapods Integration</a></li>
<li><a href="#importantnotes">Important Notes</a></li>
</ol>

<h2 id="introduction">Introduction</h2>

<p>To inspect your iOS application with Reveal you must first link the application with the Reveal library, which is packaged within the Reveal application. To find the library:</p>

<ol>
<li>Launch Reveal</li>
<li>Open the <strong>Help</strong> menu</li>
<li>Select <strong>Show Reveal Library in Finder</strong></li>
</ol>

<p>This will open a Finder window showing a folder named &#8220;iOS-Libraries&#8221;. The folder contains the following files:</p>

<ul>
<li>Reveal.framework - Reveal static library framework bundle</li>
<li>libReveal.dylib - Reveal dynamic library</li>
</ul>

<blockquote>
<p><strong>WARNING</strong>: Neither type of library should be shipped with the release build of your application. Reveal exposes your app to deep introspection and will likely cause your app to be rejected by the Apple review team. Reveal is intended for internal development and debugging purposes only.</p>
</blockquote>

<p>Reveal offers three options for integrating the library with your iOS application:</p>

<h3 id="staticlinking"><a href="#staticlibraryframeworkintegration">Static linking</a></h3>

<p>Statically linking library frameworks is the most common way to integrate third party libraries into iOS apps and should be familiar to many iOS developers. Detailed instructions on how to modify your project to statically link the Reveal library are included <a href="#staticlibraryframeworkintegration">below</a>.</p>

<h3 id="dynamicloading"><a href="#dynamiclibraryintegration">Dynamic loading</a></h3>

<p>Dynamic loading allows third party libraries to be loaded into an iOS application on demand, at runtime. In this scenario the library is not linked in to the executable. The dynamic library is included in the app bundle and can be loaded on demand. This approach allows developers to maintain full control over when the Reveal library is loaded, and when the service is started and stopped within their application. Detailed instructions are included <a href="#dynamiclibraryintegration">below</a>.</p>

<h3 id="cocoapods"><a href="#cocoapodsintegration">Cocoapods</a></h3>

<p><a href="http://cocoapods.org/">Cocoapods</a> is a dependency management system for iOS and OSX projects. It automates the configuration of workspaces and static library projects to manage 3rd party library dependencies in Xcode projects. Detailed instructions on integrating your app with Reveal using Cocoapods are included <a href="#cocoapodsintegration">below</a>.</p>

<h2 id="importantnotes">Important Notes</h2>

<ul>
<li><p>The Reveal service will automatically stop if the host app is backgrounded,
and will automatically start again when the app becomes active.</p></li>
<li><p>Reveal supports inspection of application compiled against iOS 6 and later. The <em>iOS Deployment Target</em> build setting must also be &#8216;iOS 6.0&#8217; or later. You may see link errors if this is not the case.</p></li>
<li><p>Reveal uses Bonjour to connect with the running iOS application. If you are running the iOS application on a device, it will need to be on the same network for the Reveal Mac application to be able to connect with it. If you have any problems connecting to your application check your firewall and proxy setting to ensure they are not blocking communications.</p></li>
</ul>

<h2 id="staticlibraryframeworkintegration">Static Library Framework Integration</h2>

<p>Integrating the static library into your iOS application is the quickest and easiest way to enable Reveal introspection when the application launches.</p>

<blockquote>
<p><strong>WARNING</strong>: You should not ship a product which has been linked with the Reveal library. The instructions below outline
a way to use build configurations to isolate linking the Reveal static library to Debug builds.</p>
</blockquote>

<ol>
<li><p>Open your iOS project in Xcode.</p></li>
<li><p>Launch Reveal and select <strong>Help</strong> / <strong>Show Reveal Library in Finder</strong>.</p></li>
<li><p>Drag <em>Reveal.framework</em> in to the <strong>Frameworks</strong> group in the Project Navigator panel of your project.</p>

<p>Optionally select <strong>Copy items into destination group&#8217;s folder (if needed)</strong>.</p>

<p>In the <strong>Add to targets</strong> box, select all targets you want to integrate with. </p>

<p>Click <strong>Finish</strong>.</p></li>
<li><p>In the Xcode Project Navigator, select the project. For each target you wish to be linked with Reveal:</p>

<p>Select the <strong>Build Phases</strong> tab and remove <em>Reveal.framework</em> from the <strong>Link Binaries With Libraries</strong> section.</p>

<p>Select the <strong>Build Settings</strong> tab and add the following arguments to the <strong>Debug</strong> configuration of the <strong>Other Linker Flags</strong> setting.</p>

<p><code>-ObjC -framework Reveal</code></p>

<p><strong>Xcode 4 Users:</strong> Also add the following frameworks if they are not already linked with the target.</p>

<p><code>-framework CFNetwork -framework QuartzCore -framework CoreGraphics</code></p></li>
<li><p>Build and run your application with a scheme set to use the <strong>Debug</strong> configuration. If you are running the iOS application on device, ensure that it is on the same network as the Reveal Mac application. If everything worked, you should be able to switch to Reveal and see your iOS application in the app selector pull-down. Select your app and verify that you can see a snapshot of the app matching what you see in the simulator (or device). </p></li>
<li><p>Run your application again, this time using a scheme set to use the <strong>Release</strong> configuration. Verify that Reveal cannot connect to your application. If you can still connect, check to make sure Reveal.framework is <em>not</em> listed in the <strong>Link Binaries With Libraries</strong> section of the <strong>Build Phases</strong> tab.</p></li>
</ol>

<p>No code needs to be added, nor any headers imported for Reveal integration. The library will load automatically at launch and start the necessary Reveal services within your app. If you need more advanced control of the integration you should look at the <a href="#dynamiclibraryintegration">Dynamic Library Integration</a> instructions below.</p>

<h2 id="dynamiclibraryintegration">Dynamic Library Integration</h2>

<p>Dynamic loading is a good option for developers who want full control over when the library is loaded in to their iOS application. Using the dynamic loading approach, Reveal&#8217;s code is not loaded into the application until it is needed at runtime. The library can also be unloaded, if required.</p>

<p>For the curious: iOS supports dynamic library loading just fine, however dynamic libraries must be properly code signed when running on a device outside of the debugger.</p>

<blockquote>
<p><strong>WARNING</strong>: You should not ship a release product containing the Reveal dynamic library.
Apple does not allow dynamic library loading in App Store distributed
iOS apps, and will likely reject your app if it contains a dynamic library.</p>
</blockquote>

<ol>
<li><p>Open your iOS project in Xcode.</p></li>
<li><p>Launch Reveal and select <strong>Help</strong> / <strong>Show Reveal Library in Finder</strong>.</p></li>
<li><p>Drag a copy of <em>libReveal.dylib</em> in to the <strong>Frameworks</strong> group in the Project Navigator panel of your project.</p>

<p>Optionally select <strong>Copy items into destination group&#8217;s folder (if needed)</strong>.</p>

<p>In the <strong>Add to targets</strong> box, <strong>DESELECT</strong> all targets. This ensures that Xcode doesn&#8217;t link the dylib at compile time.</p>

<p>Click <strong>Finish</strong>.</p></li>
<li><p>In the Xcode Project Navigator, select the project. For each relevant Target select the <strong>Build Phases</strong> tab and:</p>

<p>In the <strong>Copy Bundle Resources</strong> section, add <em>libReveal.dylib</em>. This packages the dylib file in the the app bundle.</p>

<p>Verify that <em>libReveal.dylib</em> is <strong>NOT</strong> listed in the <strong>Link Binaries With Libraries</strong> section. If it is, remove it. The dylib should not be linked at compile time.</p>

<p>Add the following system frameworks in the <strong>Link Binaries With Libraries</strong> section if not already present:</p>

<ul>
<li><em>CFNetwork.framework</em></li>
<li><em>QuartzCore.framework</em></li>
<li><em>CoreGraphics.framework</em> - usually included by default by Xcode.</li>
</ul></li>
<li><p>The method below shows how to dynamically load the library at runtime. Add this method to a class of your choice (e.g. your AppDelegate), and modify as you see fit. </p>

<pre><code>#pragma mark - Reveal

#import &lt;dlfcn.h&gt;
- (void)loadReveal
{
    NSString *revealLibName = @&quot;libReveal&quot;;
    NSString *revealLibExtension = @&quot;dylib&quot;;
    NSString *dyLibPath = [[NSBundle mainBundle] pathForResource:revealLibName ofType:revealLibExtension];
    NSLog(@&quot;Loading dynamic library: %@&quot;, dyLibPath);

    void *revealLib = NULL;
    revealLib = dlopen([dyLibPath cStringUsingEncoding:NSUTF8StringEncoding], RTLD_NOW);

    if (revealLib == NULL) 
    {
        char *error = dlerror();
        NSLog(@&quot;dlopen error: %s&quot;, error);
        NSString *message = [NSString stringWithFormat:@&quot;%@.%@ failed to load with error: %s&quot;, revealLibName, revealLibExtension, error];
        [[[UIAlertView alloc] initWithTitle:@&quot;Reveal library could not be loaded&quot; message:message delegate:nil cancelButtonTitle:@&quot;OK&quot; otherButtonTitles:nil] show];
    }
}
</code></pre>

<p>The Reveal service starts automatically when the <code>NSApplicationDidFinishLaunching</code> notification is posted. A simple integration might call the above method from the AppDelegate&#8217;s <code>application:didFinishLaunchingWithOptions:</code> method to ensure the library is loaded before the notification is posted.</p>

<pre><code>- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions
{
    // 
    // Window creation and setup...
    //

    [self loadReveal];

    return YES;
}
</code></pre>

<p>If you load the Reveal dylib after the <code>NSApplicationDidFinishLaunching</code> notification has been posted, you have to start it manually by posting an <code>IBARevealRequestStart</code> notification.</p>

<pre><code>- (void)startReveal
{
  [[NSNotificationCenter defaultCenter] postNotificationName:@&quot;IBARevealRequestStart&quot; object:self];
}
</code></pre>

<p>In this scenario you might start the service as the result of tapping a button in a debug menu within your application.</p>

<p>Notifications for broad control of the service include:</p>

<ul>
<li><code>IBARevealRequestStart</code> - post this notification to signal the Reveal library to start the service</li>
<li><code>IBARevealRequestStop</code> - post this notification to signal the Reveal library to stop the service</li>
</ul>

<p>You can also unload the Reveal library using <code>dlclose()</code>, passing it the handle returned by <code>dlopen()</code>. You should stop the service first by posting the <code>IBARevealRequestStop</code> notification.</p>

<p>For example, if the result of <code>dlopen()</code> was stored in ivar <code>_revealLib</code>, your stop Reveal method could look like:</p>

<pre><code>- (void)stopReveal 
{
    if (_revealLib) 
    {
        [[NSNotificationCenter defaultCenter] postNotificationName:@&quot;IBARevealRequestStop&quot; object:self];
        if (dlclose(_revealLib) == 0) 
        {
            NSLog(@&quot;Reveal library unloaded&quot;);
            _revealLib = NULL;
        }
        else 
        {
            char *error = dlerror();
            NSLog(@&quot;Reveal library could not be unloaded: %s&quot;, error);
        }
    }
}
</code></pre>

<blockquote>
<p><strong>RUNNING ON DEVICE</strong>: To dynamically load the library in an application running on a device outside of the debugger, you need to code sign libReveal.dylib as part of the build process.
 Go to your Target&#8217;s <strong>Build Phases</strong> tab and select <strong>Editor / Add Build Phase / Add Run Script</strong> from the main menu. Edit the Run Script to contain:</p>
</blockquote>

<pre><code>    set -e
    if [ -n &quot;${CODE_SIGN_IDENTITY}&quot; ]; then
        codesign -fs &quot;${CODE_SIGN_IDENTITY}&quot; &quot;${BUILT_PRODUCTS_DIR}/${FULL_PRODUCT_NAME}/libReveal.dylib&quot;
    fi
</code></pre></li>
<li><p>Build and run your application. If you are running the iOS application on device, ensure that it is on the same network as the Reveal Mac application. If everything worked, the Reveal service should start when the code you added is executed. You should be able to switch to Reveal and see your iOS application in the app selector pull-down. Select your app and verify that you can see a snapshot of the app matching what you see in the simulator (or device).</p></li>
</ol>

<h2 id="cocoapodsintegration">Cocoapods Integration</h2>

<p>The Cocoapods specifications repository includes a Podspec for integrating Reveal with your Xcode project. Just add the following to your Podfile.</p>

<pre><code>    pod 'Reveal-iOS-SDK'
</code></pre>

<p>Then run <code>pod install</code> in your project directory.</p>

<blockquote>
<p><strong>WARNING</strong>: Cocoapods does not currently let you limit which libraries are linked to your app using build configurations. Using the approach above you&#8217;ll need to remember to remove the Reveal SDK from your Podfile before doing an App Store release build. Another approach is to specify the target against which the Reveal library should be linked (see below) and maintain two separate targets, one for release builds and the other for debug builds. Using this approach means you need to maintain the compile sources and assets for both targets independently.</p>
</blockquote>

<pre><code>    target :MyDebugTarget do
      pod 'Reveal-iOS-SDK'
    end
</code></pre>

<p><em>We endevour to keep the Cocoapod repository up to date but at times the Cocoapods Podspec git repository may lag slightly behind released versions of Reveal.</em></p>
    </div>
</body>
</html>